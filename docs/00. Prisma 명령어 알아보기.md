### 1. `npx prisma generate`

- **설명:** `schema.prisma` 파일을 기반으로 **Prisma Client를 생성**하는 명령어입니다.
- **역할:**
  - `prisma/schema.prisma` 파일을 기반으로 TypeScript 또는 JavaScript에서 사용할 수 있는 **Prisma Client**를 생성합니다.
  - `node_modules/.prisma/client` 경로에 Prisma Client 코드를 생성하여 사용할 수 있도록 합니다.
  - 코드에서 `import { PrismaClient } from '@prisma/client'`로 불러와서 데이터베이스에 접근할 수 있습니다.
- **언제 실행해야 하나?**
  - `schema.prisma` 파일을 변경한 후 (`model`을 수정하거나 `generator` 옵션을 수정한 경우).
  - `schema.prisma` 파일이 변경된 후 (`db pull` 또는 수동 편집 후).
  - 패키지를 처음 설치한 후 (`npm install` 후).
  - 프로젝트를 다른 환경에서 실행할 때 (CI/CD, 배포 환경 등).

---

### 2. `npx prisma db push`

- **설명:** Prisma의 스키마를 데이터베이스와 동기화하는 명령어입니다.
- **역할:**
  - `prisma/schema.prisma`에 정의된 모델을 데이터베이스의 실제 테이블과 동기화합니다.
  - 기존 데이터가 유지된 채 테이블 구조만 반영됩니다.
  - 마이그레이션 기록을 남기지 않고, **개발 환경에서 빠르게 데이터베이스를 설정하는 용도**로 주로 사용됩니다.
- **언제 실행해야 하나?**
  - 빠르게 로컬 개발 환경에서 데이터베이스를 업데이트할 때.
  - 마이그레이션(`prisma migrate`)을 사용하지 않고 직접 테이블을 업데이트해야 할 때.
- **주의할 점:**
  - `prisma migrate`를 사용하면 마이그레이션 기록이 남아 배포 환경에서 변경 사항을 안전하게 적용할 수 있지만, `db push`는 마이그레이션 기록 없이 즉시 반영하기 때문에 **프로덕션 환경에서는 추천되지 않습니다.**
  - 테이블 구조 변경 시 데이터 손실이 발생할 수 있으므로, 중요한 데이터가 있는 경우에는 `prisma migrate`를 사용하는 것이 좋습니다.

---

### **차이점 정리**

| 명령어                | 주요 역할               | 사용 시점                        | 특징                   |
| --------------------- | ----------------------- | -------------------------------- | ---------------------- |
| `npx prisma generate` | Prisma Client 생성      | `schema.prisma` 수정 후          | 코드에서 DB 접근 가능  |
| `npx prisma db push`  | 스키마를 DB에 즉시 반영 | 개발 환경에서 빠르게 테스트할 때 | 마이그레이션 기록 없음 |

### **3. `npx prisma db pull`**

- **설명:** 데이터베이스의 현재 상태를 기반으로 `schema.prisma` 파일을 자동으로 업데이트하는 명령어입니다.
- **역할:**
  - 기존 데이터베이스의 테이블 구조를 읽어와서 **Prisma 스키마(`schema.prisma`)를 자동 생성 또는 업데이트**합니다.
  - 데이터베이스가 변경되었을 때 **Prisma 모델을 데이터베이스와 동기화**하는 데 사용됩니다.
- **언제 실행해야 하나?**
  - 기존 데이터베이스를 Prisma 프로젝트에 연동할 때.
  - 데이터베이스에서 직접 테이블을 추가/수정하고 Prisma 모델을 자동으로 반영하고 싶을 때.
- **주의할 점:**
  - 모델의 필드 이름이 데이터베이스 컬럼명을 그대로 따르므로, 가독성이 떨어질 수 있음.
  - 데이터베이스 변경 사항을 수동으로 정리하는 것이 필요할 수 있음.

# 실전 예제

- 스키마를 정의한 후에는 다음 명령어로 데이터베이스를 동기화
  ```tsx
  npx prisma generate
  npx prisma db push
  ```
- db 스키마 수정이후 schema.prrisma 파일 자동 업데이트 이후 동기화
  ```tsx
  npx prisma db pull
  npx prisma generate
  ```
