# [x] 이메일 전송시 수신자 설정

- 이메일 전송시 하드 코딩 되어 있는 부분을 각 클럽에서 ClubCustomSettings에서 선언된 email에 전송하는 기능

- 게스트, 문의하기 신청 api: src/pages/api/clubs/[id]/guests/apply.ts
- 이메일 기능: src/lib/email.ts > sendGuestApplicationEmail
- 클럽 커스텀 세팅 디비 모델: prisma/schema/clubCustomSetting.prisma

# 문자 보내기 기능

- 문자 보내기 기능은 구현되어 있지 않아서 구현 해야 함

# 문자, 이메일 전송 클럽별 가능 여부 판단

# 클럽에 가입하지 않은 사람에게 문자 전송 기능

- 클럽에 가입하지 않은 사람이 "클럽 가입신청" 화면에 접근해서 가입 신청시 문자 전송하는 기능을 구현하려고합니다.
  - "클럽 가입신청"을 할 수 있는 화면
    - src/pages/clubs/[id]/guest/index.tsx
  - "클럽 가입신청" 모달 dir
    - src/components/organisms/modal/JoinClubModal.tsx
- 여기서 구현해야 할 것은 "전화번호 인증" 기능 입니다.
  - 문자 전송 기능 구현할때 잘못된 전화번호로 전송될때 그사람이 신고하면 소명해야 해야 하기 때문입니다.
  - 지금 사용하고 있는 문자 전송 서비스
    - 명칭: naver Simple & Easy Notification Service(https://www.ncloud.com/product/applicationService/sens)
    - api: @https://api.ncloud-docs.com/docs/ai-application-service-sens

## 백엔드 API 파일

- 전화번호 인증 상태 확인 API: src/pages/api/clubs/[id]/phone-verification/status.ts
- 인증번호 발송 API: src/pages/api/clubs/[id]/phone-verification/send.ts
- 인증번호 확인 API: src/pages/api/clubs/[id]/phone-verification/verify.ts
- 사용자 전화번호 업데이트 API: src/pages/api/users/me/phone.ts

## 프론트엔드 컴포넌트 파일

- 전화번호 인증 단계 컴포넌트: src/components/organisms/forms/PhoneVerificationStep.tsx
- 인증번호 입력 컴포넌트: src/components/molecules/form/VerificationCodeInput.tsx
- 전화번호 표시 컴포넌트: src/components/molecules/form/PhoneNumberDisplay.tsx

## 유틸리티 및 훅 파일

- 전화번호 인증 관련 훅: src/hooks/usePhoneVerification.ts
- SMS 인증번호 관련 유틸리티: src/lib/sms-verification.ts

## 데이터베이스 스키마 파일

- User 모델 수정: prisma/schema/user.prisma (phoneNumber, phoneVerifiedAt 필드 추가)
- 전화번호 인증 테이블: prisma/schema/phoneVerification.prisma (신규 파일)

## 수정이 필요한 기존 파일

- 게스트 신청 모달 수정: src/components/organisms/modal/JoinClubModal.tsx (전화번호 인증 단계 추가)
- 게스트 페이지 수정: src/pages/clubs/[id]/guest/index.tsx (인증 상태 확인 로직 추가)
- SMS 라이브러리 확장: src/lib/sms.ts (인증번
